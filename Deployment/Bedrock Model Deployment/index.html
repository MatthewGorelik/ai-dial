<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Deployment/Bedrock Model Deployment" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Bedrock Model Deployment | DIAL</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.epam-rail.com/Deployment/Bedrock Model Deployment"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Bedrock Model Deployment | DIAL"><meta data-rh="true" name="description" content="In this instruction, you will learn how to create Bedrock model in AWS and deploy it in AI DIAL config."><meta data-rh="true" property="og:description" content="In this instruction, you will learn how to create Bedrock model in AWS and deploy it in AI DIAL config."><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.epam-rail.com/Deployment/Bedrock Model Deployment"><link data-rh="true" rel="alternate" href="https://docs.epam-rail.com/Deployment/Bedrock Model Deployment" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.epam-rail.com/Deployment/Bedrock Model Deployment" hreflang="x-default"><script src="https://cookie-cdn.cookiepro.com/consent/3a34bbfa-93e4-4ba6-9383-7da88d67ed18/OtAutoBlock.js"></script>
<script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="3a34bbfa-93e4-4ba6-9383-7da88d67ed18"></script>
<script src="src/scripts/optanonWrapper.js"></script><link rel="stylesheet" href="/assets/css/styles.8837d263.css">
<script src="/assets/js/runtime~main.954d692d.js" defer="defer"></script>
<script src="/assets/js/main.3f47d899.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_light.svg" alt="EPAM DIAL" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo_dark.svg" alt="EPAM DIAL" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/search?q=org%3Aepam++DIAL&amp;type=repositories" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.gg/3TPc4zV4gS" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Home</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/tutorials/quick-start-with-application">Tutorials</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/user-guide">Chat User Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a href="https://github.com/epam/ai-dial-helm/tree/main/charts/dial/examples/generic/simple" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true">Deployment</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/epam/ai-dial-helm/tree/main/charts/dial/examples/generic/simple" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Helm Deployment<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Deployment/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Deployment/OpenAI Model Deployment">OpenAI Model Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Deployment/Vertex Model Deployment">Vertex Model Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Deployment/Bedrock Model Deployment">Bedrock Model Deployment</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deployment</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Bedrock Model Deployment</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Bedrock Model Deployment</h1>
<p>In this instruction, you will learn how to create Bedrock model in AWS and deploy it in AI DIAL config.</p>
<blockquote>
<p>Refer to <a href="https://docs.aws.amazon.com/bedrock/latest/userguide/what-is-bedrock.html" target="_blank" rel="noopener noreferrer">AWS Documentation</a> to learn about this model.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li>Active AWS account</li>
<li>Admin role at the account</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="steps">Steps<a href="#steps" class="hash-link" aria-label="Direct link to Steps" title="Direct link to Steps">​</a></h2>
<ol>
<li><a href="#step-1-request-access-to-models">Request access to models</a></li>
<li><a href="#step-2-create-iam-policy">Create IAM Policy</a></li>
<li><a href="#step-3-assign-iam-policy">Assign IAM Policy</a></li>
<li><a href="#step-4-add-model-to-ai-dial">Add Model to AI DIAL</a></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-request-access-to-models">Step 1: Request Access to Models<a href="#step-1-request-access-to-models" class="hash-link" aria-label="Direct link to Step 1: Request Access to Models" title="Direct link to Step 1: Request Access to Models">​</a></h2>
<ol>
<li>In your AWS account, navigate to <strong>Services/Amazon Bedrock</strong>.</li>
<li>In Amazon Bedrock, navigate to <strong>Model access</strong> and click the <strong>Manage model access</strong> button.</li>
<li>In Base models, select models and click <strong>Save changes</strong> to request access to them. <strong>Note</strong>, it may take a few moment for an access to be granted. You may need to refresh the page to view the updated status.</li>
</ol>
<p><img loading="lazy" src="/assets/images/aws1-55f0d26e8f793a3fd378698f80ef0e1c.jpg" width="1869" height="507" class="img_ev3q"></p>
<blockquote>
<p>To use Bedrock, it is necessary to seek permission to access Bedrock&#x27;s foundation models. To accomplish this, ensuring the correct IAM Policies is crucial. You can find instructions on how to create IAM Policies in the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html" target="_blank" rel="noopener noreferrer">AWS Documentation</a>. Additionally, for specific models, you may be required to provide details about your use case before being able to request access. For more information, please refer to the <a href="https://eu-central-1.console.aws.amazon.com/bedrock/home#/providers" target="_blank" rel="noopener noreferrer">Providers</a> section on the Bedrock homepage.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-create-iam-policy">Step 2: Create IAM Policy<a href="#step-2-create-iam-policy" class="hash-link" aria-label="Direct link to Step 2: Create IAM Policy" title="Direct link to Step 2: Create IAM Policy">​</a></h2>
<p>IAM (Identity and Access Management) policies in AWS (Amazon Web Services) are a set of rules that define permissions for users, groups, and roles within an AWS account.</p>
<blockquote>
<p>Refer to <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html" target="_blank" rel="noopener noreferrer">AWS Documentation</a> to learn how to create a policy.</p>
</blockquote>
<p>You can create your own IAM policy or use AWS-managed IAM policy <strong>AmazonBedrockFullAccess</strong>, which grants full access to the Bedrock service.</p>
<p>When using a custom policy, we recommend assigning permissions below to limit the scope of allowed interactions with models:</p>
<ul>
<li>bedrock<!-- -->:GetFoundationModel</li>
<li>bedrock<!-- -->:ListFoundationModels</li>
<li>bedrock<!-- -->:InvokeModel</li>
<li>bedrock<!-- -->:InvokeModelWithResponseStream</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-assign-iam-policy">Step 3: Assign IAM Policy<a href="#step-3-assign-iam-policy" class="hash-link" aria-label="Direct link to Step 3: Assign IAM Policy" title="Direct link to Step 3: Assign IAM Policy">​</a></h2>
<p>You can assign an IAM Policy to a specific <a href="#assign-to-user">user</a>, role or to the entire <a href="#assign-to-service-account">AWS Service Account</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assign-to-user">Assign to User<a href="#assign-to-user" class="hash-link" aria-label="Direct link to Assign to User" title="Direct link to Assign to User">​</a></h3>
<p>IAM (Identity and Access Management) users in AWS (Amazon Web Services) are entities that represent individual people or applications that interact with AWS services and resources. IAM users have their own unique set of security credentials, which include an access key and secret access key.</p>
<blockquote>
<p>Refer to <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html" target="_blank" rel="noopener noreferrer">AWS Documentation</a> to learn how to create users.</p>
</blockquote>
<ol>
<li>In your AWS account, navigate to IAM section.</li>
<li>In the navigation tree, select <strong>Users</strong> and click <strong>Create user</strong> in the Users panel.</li>
</ol>
<p><img loading="lazy" src="/assets/images/aws5-1701514d5ec13a69986b7b1247b4f476.jpg" width="1818" height="340" class="img_ev3q"></p>
<ol start="3">
<li>On the Step 2 (Set Permissions), you can attach a Policy to the user.</li>
<li>When the user is created, click your new user and navigate to the <strong>Security credentials</strong> tab where you can click <strong>Create access key</strong> to create a key pair for your user.</li>
<li>For a new key pair, click <strong>Show</strong> to view and download a CSV file. <strong>Note</strong>, that once shown, the key pair will no longer be available for preview. Make sure you save a CSV file for future use.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assign-to-service-account">Assign to Service Account<a href="#assign-to-service-account" class="hash-link" aria-label="Direct link to Assign to Service Account" title="Direct link to Assign to Service Account">​</a></h3>
<p>In case your cluster is located at AWS, the best practise for using Bedrock is to assign an IAM Policy to your Service Account. You can do this via IAM Roles.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-iam-roles">Create IAM Roles<a href="#create-iam-roles" class="hash-link" aria-label="Direct link to Create IAM Roles" title="Direct link to Create IAM Roles">​</a></h4>
<p>IAM (Identity and Access Management) roles in AWS (Amazon Web Services) are entities that define a set of permissions for AWS resources. IAM roles are not tied to a specific user or group but can be assumed by IAM users, AWS services, or even external accounts for temporary access to AWS resources.</p>
<blockquote>
<p>Refer to <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create.html" target="_blank" rel="noopener noreferrer">AWS Documentation</a> to learn how to create IAM role and assign AWS/custom IAM policy.</p>
</blockquote>
<p><strong>To Enable IAM Roles for AWS Service Accounts</strong>:</p>
<ol>
<li>Create an IAM OIDC provider for your cluster. You only complete this procedure once for each cluster. Refer to <a href="https://docs.aws.amazon.com/eks/latest/userguide/enable-iam-roles-for-service-accounts.html" target="_blank" rel="noopener noreferrer">AWS Documentation</a> to learn more.</li>
<li>Configure a Kubernetes Service Account to assume an IAM Role. Complete this procedure for each unique set of permissions that you want an application to have. Refer to <a href="https://docs.aws.amazon.com/eks/latest/userguide/associate-service-account-role.html" target="_blank" rel="noopener noreferrer">AWS Documentation</a> to learn more.</li>
<li>Configure Pods to use a Kubernetes Service Account. Complete this procedure for each Pod that needs access to AWS services. Refer to <a href="https://docs.aws.amazon.com/eks/latest/userguide/pod-configuration.html" target="_blank" rel="noopener noreferrer">AWS Documentation</a> to learn more.</li>
<li>Confirm that the workload uses an AWS SDK of a supported version and that the workload uses the default credential chain. Refer to <a href="https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts-minimum-sdk.html" target="_blank" rel="noopener noreferrer">AWS Documentation</a> to learn more.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-add-model-to-ai-dial">Step 4: Add Model to AI DIAL<a href="#step-4-add-model-to-ai-dial" class="hash-link" aria-label="Direct link to Step 4: Add Model to AI DIAL" title="Direct link to Step 4: Add Model to AI DIAL">​</a></h2>
<p>To deploy a model to AI DIAL, it is necessary to add it to config and configure an adapter for it.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-model">Add Model<a href="#add-model" class="hash-link" aria-label="Direct link to Add Model" title="Direct link to Add Model">​</a></h3>
<p>Add you model with its parameters in the <code>models</code> section. Refer to <a href="https://github.com/epam/ai-dial-helm/blob/8a2d6ebe301965ef0e4f06bc5f6e47aadc7b597f/charts/dial/examples/generic/simple/values.yaml#L11" target="_blank" rel="noopener noreferrer">AI DIAL Configuration</a> to view an example.</p>
<p>Refer to <a href="/Deployment/configuration#core-parameters">Configuration</a> to view the description of parameters.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-bedrock-adapter">Configure Bedrock Adapter<a href="#configure-bedrock-adapter" class="hash-link" aria-label="Direct link to Configure Bedrock Adapter" title="Direct link to Configure Bedrock Adapter">​</a></h3>
<p>To work with models, we use applications called Adapters. You can configure Adapters in the <a href="https://github.com/epam/ai-dial-helm/blob/8a2d6ebe301965ef0e4f06bc5f6e47aadc7b597f/charts/dial/examples/generic/simple/values.yaml" target="_blank" rel="noopener noreferrer">AI DIAL Config</a>.</p>
<p>Refer to <a href="https://github.com/epam/ai-dial-adapter-bedrock" target="_blank" rel="noopener noreferrer">Adapter for Bedrock</a> to view documentation for a Bedrock AI DIAL Adapter.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="for-iam-user">For IAM User<a href="#for-iam-user" class="hash-link" aria-label="Direct link to For IAM User" title="Direct link to For IAM User">​</a></h4>
<p>In this scenario, provide the sectes of your user that you have saved in a CSV file:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">### examples of basic configurations of adapters ###</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">### ai-dial-adapter-bedrock configuration for IAM user###</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">bedrock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># -- Enable/disable ai-dial-adapter-bedrock</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token boolean important">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">commonLabels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">app.kubernetes.io/component</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;adapter&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">repository</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> epam/ai</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">dial</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">adapter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bedrock</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">tag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 0.2.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">secrets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># DEFAULT_REGION: &quot;us-east-1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># AWS_ACCESS_KEY_ID: &quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># AWS_SECRET_ACCESS_KEY: &quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="for-aws-service-account">For AWS Service Account<a href="#for-aws-service-account" class="hash-link" aria-label="Direct link to For AWS Service Account" title="Direct link to For AWS Service Account">​</a></h4>
<p>In this scenario, provide the IAM Role that you have assigned to your AWS Service Account:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># --example of AI DIAL configuration for service account</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">bedrock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># -- Enable/disable ai-dial-adapter-bedrock</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token key atrule">repository</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> epam/ai</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">dial</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">adapter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bedrock</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token key atrule">tag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 0.2.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token key atrule">serviceAccount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token key atrule">create</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token key atrule">annotations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token key atrule">eks.amazonaws.com/role-arn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;arn:aws:iam::000001206603:role/role_name&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token key atrule">env</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">DEFAULT_REGION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;us-east-1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Deployment/Vertex Model Deployment"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Vertex Model Deployment</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#steps" class="table-of-contents__link toc-highlight">Steps</a></li><li><a href="#step-1-request-access-to-models" class="table-of-contents__link toc-highlight">Step 1: Request Access to Models</a></li><li><a href="#step-2-create-iam-policy" class="table-of-contents__link toc-highlight">Step 2: Create IAM Policy</a></li><li><a href="#step-3-assign-iam-policy" class="table-of-contents__link toc-highlight">Step 3: Assign IAM Policy</a><ul><li><a href="#assign-to-user" class="table-of-contents__link toc-highlight">Assign to User</a></li><li><a href="#assign-to-service-account" class="table-of-contents__link toc-highlight">Assign to Service Account</a><ul><li><a href="#create-iam-roles" class="table-of-contents__link toc-highlight">Create IAM Roles</a></li></ul></li></ul></li><li><a href="#step-4-add-model-to-ai-dial" class="table-of-contents__link toc-highlight">Step 4: Add Model to AI DIAL</a><ul><li><a href="#add-model" class="table-of-contents__link toc-highlight">Add Model</a></li><li><a href="#configure-bedrock-adapter" class="table-of-contents__link toc-highlight">Configure Bedrock Adapter</a><ul><li><a href="#for-iam-user" class="table-of-contents__link toc-highlight">For IAM User</a></li><li><a href="#for-aws-service-account" class="table-of-contents__link toc-highlight">For AWS Service Account</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 EPAM Systems, Inc. All Rights Reserved</div></div></div></footer></div>
</body>
</html>